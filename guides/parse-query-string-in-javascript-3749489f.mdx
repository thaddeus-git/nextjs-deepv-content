---
title: "Parse query string in JavaScript: Complete Guide with 6 Solutions"
slug: "parse-query-string-in-javascript"
category: "web-frontend"
subcategory: "javascript"
description: "For modern browsers and a robust, built-in solution, use URLSearchParams. It provides a clean, object-oriented way to access and manipulate query parameters."
tags: ["javascript","parsing","query-string"]
difficulty: "intermediate"
readTime: 25
lastUpdated: "2025-09-18T13:50:35.680Z"
featured: true
---

# Parse query string in JavaScript: Complete Guide with 6 Solutions

## Quick Answer

For modern browsers and a robust, built-in solution, use `URLSearchParams`. It provides a clean, object-oriented way to access and manipulate query parameters.

```javascript
// Assuming the current URL is: https://www.example.com/page?dest=aboutus.aspx&id=123
const urlParams = new URLSearchParams(window.location.search);
const destination = urlParams.get('dest'); // Returns "aboutus.aspx"
const id = urlParams.get('id');           // Returns "123"
const nonExistent = urlParams.get('foo'); // Returns null

console.log(`Destination: ${destination}`);
console.log(`ID: ${id}`);

// To iterate over all parameters:
for (const [key, value] of urlParams.entries()) {
    console.log(`${key}: ${value}`);
}
```

## Choose Your Method

Deciding the best way to parse a query string in JavaScript depends on your specific needs, target environment, and desired level of control. Use the following decision tree to guide your choice.

```mermaid
graph TD
    A[Start: Need to parse query string?] --> B{Target Browser Support?};

    B -- Modern Browsers (ES6+) --> C{Need simple key-value access or full object?};
    B -- Older Browsers (IE11, Legacy) --> D{Need a custom, lightweight solution?};
    B -- Cross-browser compatibility is critical --> E{Using a library already?};

    C -- Simple key-value access --> F[Use `URLSearchParams`];
    C -- Full object, handle duplicates/arrays --> G[Use `URLSearchParams` + custom object conversion];

    D -- Minimal code, specific parameter --> H[Custom function: `getQueryVariable` (Answer 1)];
    D -- Full object, basic parsing --> I[Custom function: `parseQuery` (Answer 2)];
    D -- Full object, advanced (duplicates, no value) --> J[Custom function: `parseQuery` (Answer 6)];
    D -- Very specific, single parameter --> K[Regex-based `location.search.replace` (Answer 7)];

    E -- Yes, e.g., URI.js, jQuery --> L[Use library's built-in parsing (e.g., `URI().query(true)`)];
    E -- No, prefer vanilla JS --> B;

    F --> M[**🚀 Speed Seeker, 📚 Learning Explorer, 🔧 Problem Solver**];
    G --> N[**🏗️ Architecture Builder, 🎨 Output Focused**];
    H --> O[**🚀 Speed Seeker, ⚡ Legacy Maintainer**];
    I --> P[**🔧 Problem Solver, ⚡ Legacy Maintainer**];
    J --> Q[**🏗️ Architecture Builder, ⚡ Legacy Maintainer**];
    K --> R[**🚀 Speed Seeker, 🔧 Problem Solver** (for very specific cases)];
    L --> S[**🏗️ Architecture Builder, ⚡ Legacy Maintainer** (if library is already present)];

    M[**🚀 Speed Seeker, 📚 Learning Explorer, 🔧 Problem Solver**] --> End;
    N[**🏗️ Architecture Builder, 🎨 Output Focused**] --> End;
    O[**🚀 Speed Seeker, ⚡ Legacy Maintainer**] --> End;
    P[**🔧 Problem Solver, ⚡ Legacy Maintainer**] --> End;
    Q[**🏗️ Architecture Builder, ⚡ Legacy Maintainer**] --> End;
    R[**🚀 Speed Seeker, 🔧 Problem Solver** (for very specific cases)] --> End;
    S[**🏗️ Architecture Builder, ⚡ Legacy Maintainer** (if library is already present)] --> End;
```

## Table of Contents
- [Quick Answer](#quick-answer)
- [Choose Your Method](#choose-your-method)
- [Ready-to-Use Code](#ready-to-use-code)
- [Method 1: Using `URLSearchParams` (Modern & Recommended)](#method-1-using-urlsearchparams-modern--recommended)
- [Method 2: Custom Function for Single Parameter (`getQueryVariable`)](#method-2-custom-function-for-single-parameter-getqueryvariable)
- [Method 3: Custom Function for Object Parsing (`parseQuery` - Basic)](#method-3-custom-function-for-object-parsing-parsequery---basic)
- [Method 4: Custom Function for Object Parsing (`parseQuery` - Advanced)](#method-4-custom-function-for-object-parsing-parsequery---advanced)
- [Method 5: Using External Libraries (e.g., URI.js)](#method-5-using-external-libraries-e.g.-urijs)
- [Method 6: Regex for Specific Single Parameter](#method-6-regex-for-specific-single-parameter)
- [Performance Comparison](#performance-comparison)
- [JavaScript Version Support](#javascript-version-support)
- [Common Problems & Solutions](#common-problems--solutions)
- [Real-World Use Cases](#real-world-use-cases)
- [Related: Other JavaScript Operations](#related-other-javascript-operations)
- [Summary](#summary)
- [Frequently Asked Questions](#frequently-asked-questions)
- [Tools & Resources](#tools--resources)

## Ready-to-Use Code

Here are the most common and robust solutions for quick integration into your projects.

### 1. Modern Browsers: `URLSearchParams`

**Persona:** 🚀 Speed Seeker, 🔧 Problem Solver, 📚 Learning Explorer

This is the most recommended approach for contemporary web development due to its native support, robustness, and ease of use.

```javascript
/**
 * Parses the query string of the current URL using URLSearchParams.
 * @returns {URLSearchParams} An object providing methods to access query parameters.
 */
function getUrlParams() {
    return new URLSearchParams(window.location.search);
}

// Example usage:
const params = getUrlParams();
const dest = params.get('dest');
const id = params.get('id');
const category = params.get('category'); // If 'category' is not present, returns null

console.log(`Destination: ${dest}`); // e.g., "aboutus.aspx"
console.log(`ID: ${id}`);           // e.g., "123"
console.log(`Category: ${category}`); // e.g., null or "electronics"

// To get all values for a potentially repeated parameter:
// URL: ?item=apple&item=banana
// const items = params.getAll('item'); // Returns ["apple", "banana"]
```

### 2. Legacy Browsers / Custom Control: `getQueryVariable`

**Persona:** ⚡ Legacy Maintainer, 🔧 Problem Solver

A classic, lightweight custom function that works across almost all JavaScript environments, ideal for extracting a single, known parameter.

```javascript
/**
 * Extracts a single query variable from the URL.
 * @param {string} variable The name of the query variable to retrieve.
 * @returns {string|undefined} The decoded value of the variable, or undefined if not found.
 */
function getQueryVariable(variable) {
    const query = window.location.search.substring(1);
    const vars = query.split('&');
    for (let i = 0; i < vars.length; i++) {
        const pair = vars[i].split('=');
        if (decodeURIComponent(pair[0]) === variable) {
            return decodeURIComponent(pair[1] || ''); // Handle cases like `?param=`
        }
    }
    // console.log(`Query variable '${variable}' not found`); // Optional: log if not found
    return undefined; // Explicitly return undefined if not found
}

// Example usage:
// Assuming URL: ?dest=aboutus.aspx&user=john%20doe
const destination = getQueryVariable('dest');
const userName = getQueryVariable('user');
const nonExistentParam = getQueryVariable('foo');

console.log(`Destination: ${destination}`); // "aboutus.aspx"
console.log(`User Name: ${userName}`);     // "john doe"
console.log(`Non-existent param: ${nonExistentParam}`); // undefined
```

## Method 1: Using `URLSearchParams` (Modern & Recommended)

**Persona:** 🚀 Speed Seeker, 📚 Learning Explorer, 🔧 Problem Solver, 🏗️ Architecture Builder

The `URLSearchParams` interface provides a powerful and standardized way to work with the query string of a URL. It's part of the URL API and is supported in all modern browsers (Chrome, Firefox, Edge, Safari, Opera) and Node.js environments. This is the **preferred method** for new development due to its clarity, robustness, and built-in handling of URL encoding/decoding.

### How it Works

`URLSearchParams` treats the query string as a collection of key-value pairs. You can create an instance by passing the `window.location.search` string (which includes the leading `?`) or any other query string.

```javascript
// Get the query string from the current URL
const queryString = window.location.search; // e.g., "?dest=aboutus.aspx&id=123&tags=js,web"

// Create a URLSearchParams object
const urlParams = new URLSearchParams(queryString);

// Accessing individual parameters
const destination = urlParams.get('dest'); // "aboutus.aspx"
const userId = urlParams.get('id');       // "123"
const nonExistent = urlParams.get('foo'); // null

console.log(`Destination: ${destination}`);
console.log(`User ID: ${userId}`);
console.log(`Non-existent param: ${nonExistent}`);
```

### Key Methods

*   **`get(name)`**: Returns the first value associated with the given search parameter. If no such parameter is found, it returns `null`.
*   **`getAll(name)`**: Returns an array of all values associated with a given search parameter. Useful for parameters that can appear multiple times (e.g., `?item=apple&item=banana`).
*   **`has(name)`**: Returns a boolean indicating whether a parameter with the given name exists.
*   **`set(name, value)`**: Sets the value of a search parameter. If there are multiple values, it replaces them all with the new one.
*   **`append(name, value)`**: Appends a new key-value pair to the search parameters.
*   **`delete(name)`**: Deletes all occurrences of the given search parameter.
*   **`toString()`**: Returns a string containing all search parameters, suitable for use as a URL query string.
*   **`entries()`, `keys()`, `values()`**: Iterators for looping through parameters.

### Example: Handling Multiple Values and Manipulation

```javascript
// Example URL: https://www.example.com/products?category=electronics&sort=price_asc&filter=brandA&filter=brandB
const currentUrlParams = new URLSearchParams(window.location.search);

// Get a single value
console.log(`Category: ${currentUrlParams.get('category')}`); // "electronics"

// Get all values for a repeated parameter
const filters = currentUrlParams.getAll('filter');
console.log(`Filters: ${filters.join(', ')}`); // "brandA, brandB"

// Check if a parameter exists
console.log(`Has 'sort' parameter? ${currentUrlParams.has('sort')}`); // true
console.log(`Has 'page' parameter? ${currentUrlParams.has('page')}`); // false

// Modify parameters
currentUrlParams.set('sort', 'name_asc'); // Change sort order
currentUrlParams.append('filter', 'brandC'); // Add another filter
currentUrlParams.delete('category'); // Remove category parameter

// Convert back to string for a new URL
const newQueryString = currentUrlParams.toString();
console.log(`New Query String: ${newQueryString}`);
// Output: "sort=name_asc&filter=brandA&filter=brandB&filter=brandC"

// You can then use this to update the URL without reloading:
// history.pushState(null, '', `?${newQueryString}`);
```

### Converting to a Plain Object

While `URLSearchParams` is an object itself, sometimes you need a plain JavaScript object (`{ key: value }`) for easier manipulation or compatibility with other functions.

```javascript
/**
 * Converts URLSearchParams to a plain JavaScript object.
 * Handles multiple values for the same key by storing them as an array.
 * @param {URLSearchParams} urlParams The URLSearchParams object.
 * @returns {object} A plain object representation of the query parameters.
 */
function urlSearchParamsToObject(urlParams) {
    const obj = {};
    for (const [key, value] of urlParams.entries()) {
        if (obj[key]) {
            // If key already exists, convert to array or push to existing array
            if (!Array.isArray(obj[key])) {
                obj[key] = [obj[key]];
            }
            obj[key].push(value);
        } else {
            obj[key] = value;
        }
    }
    return obj;
}

// Example: URL `?name=Alice&age=30&tag=js&tag=web`
const params = new URLSearchParams(window.location.search);
const paramsObject = urlSearchParamsToObject(params);

console.log(paramsObject);
/*
{
  name: "Alice",
  age: "30",
  tag: ["js", "web"]
}
*/
```

### Advantages

*   **Standardized API:** Part of the Web API, ensuring consistent behavior.
*   **Robust:** Handles encoding/decoding, special characters, and edge cases correctly.
*   **Mutable:** Easy to add, remove, or modify parameters.
*   **Iterable:** Supports `for...of` loops for easy iteration.
*   **Readability:** Code is clear and self-documenting.

### Disadvantages

*   **Browser Support:** Not available in very old browsers (e.g., Internet Explorer). A polyfill might be needed for broader compatibility.

## Method 2: Custom Function for Single Parameter (`getQueryVariable`)

**Persona:** ⚡ Legacy Maintainer, 🔧 Problem Solver, 🚀 Speed Seeker

This method involves writing a custom JavaScript function to manually parse the query string. It's a classic approach, highly compatible with older browsers, and very efficient if you only need to extract one specific parameter. This directly implements the logic from Answer 1.

### How it Works

The function takes the query string, removes the leading `?`, splits it into individual key-value pairs using `&` as a delimiter, and then iterates through these pairs. For each pair, it splits by `=`, decodes the key and value, and checks if the key matches the requested variable.

```javascript
/**
 * Extracts a single query variable from the URL's search string.
 * This function is highly compatible with older browsers.
 * @param {string} variable The name of the query variable to retrieve.
 * @returns {string|undefined} The decoded value of the variable, or undefined if not found.
 */
function getQueryVariable(variable) {
    // Get the query string part of the URL, excluding the '?'
    const query = window.location.search.substring(1);
    
    // Split the query string into individual key-value pairs
    const vars = query.split('&');
    
    // Iterate over each pair
    for (let i = 0; i < vars.length; i++) {
        const pair = vars[i].split('=');
        
        // Decode the key and compare it to the requested variable
        if (decodeURIComponent(pair[0]) === variable) {
            // Return the decoded value. Handle cases where value might be missing (e.g., `?param=`)
            return decodeURIComponent(pair[1] || '');
        }
    }
    // If the variable is not found after checking all pairs
    return undefined;
}

// Example Usage:
// Assuming current URL is: https://www.example.com/page?dest=aboutus.aspx&id=123&name=John%20Doe
const destination = getQueryVariable('dest');
const userId = getQueryVariable('id');
const userName = getQueryVariable('name');
const nonExistentParam = getQueryVariable('category');

console.log(`Destination: ${destination}`); // "aboutus.aspx"
console.log(`User ID: ${userId}`);         // "123"
console.log(`User Name: ${userName}`);     // "John Doe"
console.log(`Non-existent parameter: ${nonExistentParam}`); // undefined

// Example with a parameter having no value: ?param1=value1&param2=&param3
// const param2Value = getQueryVariable('param2'); // "" (empty string)
```

### Advantages

*   **High Compatibility:** Works in virtually all JavaScript environments, including very old browsers (IE6+).
*   **Lightweight:** No external dependencies, minimal code footprint.
*   **Efficient for Single Lookups:** If you only need one specific parameter, this function is very direct.
*   **Clear Logic:** Easy to understand and debug.

### Disadvantages

*   **Single Parameter Only:** Designed to retrieve one parameter at a time. Repeated calls for multiple parameters can be less efficient than parsing the entire string once.
*   **No Object Output:** Does not return a structured object of all parameters.
*   **No Handling for Duplicate Keys:** If a parameter appears multiple times (e.g., `?item=apple&item=banana`), it will only return the first occurrence.
*   **Manual Decoding:** Relies on `decodeURIComponent`, which is handled automatically by `URLSearchParams`.

### When to Use

This method is ideal for:
*   Projects requiring maximum backward compatibility.
*   Scenarios where you only need to fetch one or two specific query parameters.
*   Environments where `URLSearchParams` is not available or polyfilling is not desired.

## Method 3: Custom Function for Object Parsing (`parseQuery` - Basic)

**Persona:** 🔧 Problem Solver, ⚡ Legacy Maintainer, 📚 Learning Explorer

This custom function parses the entire query string into a plain JavaScript object, making all parameters accessible at once. It's a good balance between compatibility and convenience, offering a structured output. This method is based on the logic from Answer 2.

### How it Works

The function takes a query string (or `window.location.search`), removes the leading `?` if present, and then splits it into key-value pairs. It iterates through these pairs, splitting each by `=`, and then decodes both the key and value before assigning them to properties of a new object.

```javascript
/**
 * Parses a query string into a plain JavaScript object.
 * Handles basic key-value pairs.
 * @param {string} queryString The query string to parse (e.g., "?key=value&foo=bar").
 * @returns {object} An object where keys are parameter names and values are their decoded strings.
 */
function parseQuery(queryString) {
    const query = {};
    // Remove leading '?' if present, then split by '&'
    const pairs = (queryString[0] === '?' ? queryString.substring(1) : queryString).split('&');
    
    for (let i = 0; i < pairs.length; i++) {
        const pair = pairs[i].split('=');
        // Decode key and value, handling cases where value might be missing (e.g., `?param=`)
        const key = decodeURIComponent(pair[0]);
        const value = decodeURIComponent(pair[1] || ''); // Default to empty string if no value
        query[key] = value;
    }
    return query;
}

// Example Usage:
// Assuming current URL is: https://www.example.com/search?q=javascript%20parsing&page=2&sort=date
const currentQueryParams = parseQuery(window.location.search);
console.log(currentQueryParams);
/*
{
  q: "javascript parsing",
  page: "2",
  sort: "date"
}
*/

// Example with a custom query string
const customQuery = "product=laptop&color=black&size=15inch";
const customParams = parseQuery(customQuery);
console.log(customParams);
/*
{
  product: "laptop",
  color: "black",
  size: "15inch"
}
*/

// Example with a parameter having no value: ?param1=value1&param2=&param3
const noValueQuery = "?param1=value1&param2=&param3";
const noValueParams = parseQuery(noValueQuery);
console.log(noValueParams);
/*
{
  param1: "value1",
  param2: "",
  param3: "" // Note: this implementation treats `param3` without `=` as `param3=""`
}
*/
```

### Advantages

*   **Object Output:** Provides a convenient object for accessing all parameters.
*   **Good Compatibility:** Works in most JavaScript environments.
*   **Single Pass:** Parses the entire string once, making it efficient for retrieving multiple parameters.
*   **Clear Structure:** The resulting object is easy to work with.

### Disadvantages

*   **No Duplicate Key Handling:** If a parameter appears multiple times (e.g., `?item=apple&item=banana`), only the last value will be stored, overwriting previous ones. The object will look like `{ item: "banana" }`.
*   **Basic Value Handling:** Treats all values as strings. No automatic type conversion.
*   **Manual Decoding:** Requires `decodeURIComponent`.

### When to Use

This method is suitable for:
*   Applications needing to access multiple query parameters in an object format.
*   Environments where `URLSearchParams` is not available, and you need a custom, widely compatible solution.
*   Scenarios where duplicate query parameters are not expected or the last value is always preferred.

## Method 4: Custom Function for Object Parsing (`parseQuery` - Advanced)

**Persona:** 🏗️ Architecture Builder, ⚡ Legacy Maintainer, 🎨 Output Focused

This advanced custom function builds upon the basic object parsing by adding robust handling for duplicate query parameters, storing them as arrays. It also correctly handles parameters without values (e.g., `?debug`). This method is based on the logic from Answer 6.

### How it Works

Similar to the basic `parseQuery`, this function splits the query string into key-value pairs. However, when assigning values to the result object, it checks if a key already exists. If it does, and it's not yet an array, it converts the existing value into an array and pushes the new value. If it's already an array, it simply pushes the new value. This ensures all occurrences of a parameter are captured.

```javascript
/**
 * Parses a query string into a JavaScript object, handling duplicate keys as arrays
 * and parameters without values.
 * @param {string} str The query string to parse (e.g., "key=value&foo=bar&tag=a&tag=b").
 * @returns {object} An object where keys are parameter names and values are strings or arrays of strings.
 */
function parseQueryAdvanced(str) {
    if (typeof str !== "string" || str.length === 0) {
        return {};
    }

    const query = {};
    // Remove leading '?' if present
    const cleanStr = str[0] === '?' ? str.substring(1) : str;
    const s = cleanStr.split("&");

    for (let i = 0; i < s.length; i++) {
        const bit = s[i].split("=");
        const first = decodeURIComponent(bit[0]);

        if (first.length === 0) {
            continue; // Skip empty keys
        }

        // Decode the value, defaulting to an empty string if no '=' was present
        // or if the value part is empty (e.g., `param=`)
        const second = (bit.length > 1) ? decodeURIComponent(bit[1]) : '';

        if (typeof query[first] === "undefined") {
            // First occurrence of this key
            query[first] = second;
        } else if (Array.isArray(query[first])) {
            // Key already exists and is an array, push new value
            query[first].push(second);
        } else {
            // Key exists but is not an array, convert to array and add new value
            query[first] = [query[first], second];
        }
    }
    return query;
}

// Example Usage:
// Assuming current URL: ?name=Alice&age=30&tag=js&tag=web&debug
const currentQueryParams = parseQueryAdvanced(window.location.search);
console.log(currentQueryParams);
/*
{
  name: "Alice",
  age: "30",
  tag: ["js", "web"],
  debug: "" // Parameter without value is treated as an empty string
}
*/

// Example with a custom query string
const complexQuery = "item=book&item=pen&price=10&price=5&category=&active";
const complexParams = parseQueryAdvanced(complexQuery);
console.log(complexParams);
/*
{
  item: ["book", "pen"],
  price: ["10", "5"],
  category: "",
  active: ""
}
*/
```

### Advantages

*   **Handles Duplicate Keys:** Correctly collects all values for repeated parameters into an array.
*   **Handles No-Value Parameters:** Parameters like `?debug` are correctly parsed (as an empty string value).
*   **High Compatibility:** Works in most JavaScript environments.
*   **Comprehensive Output:** Provides a rich object structure that reflects the full query string.

### Disadvantages

*   **More Complex Code:** Slightly more involved logic than the basic `parseQuery` or `getQueryVariable`.
*   **Manual Decoding:** Still relies on `decodeURIComponent`.
*   **No Built-in URL Manipulation:** Unlike `URLSearchParams`, this is purely for parsing.

### When to Use

This method is excellent for:
*   Applications requiring a complete and accurate representation of the query string, including all duplicate parameters.
*   Legacy projects where `URLSearchParams` is not an option, but robust parsing is critical.
*   When you need to process all query parameters in a structured object format.

## Method 5: Using External Libraries (e.g., URI.js)

**Persona:** 🏗️ Architecture Builder, ⚡ Legacy Maintainer (if library already in use), 🎨 Output Focused

For projects that already incorporate powerful utility libraries or require advanced URL manipulation beyond simple parsing, using a dedicated library can be highly beneficial. `URI.js` (from Answer 3) is one such example, offering a comprehensive API for URL handling.

### How it Works (with URI.js)

`URI.js` provides an object-oriented interface to parse, manipulate, and build URLs. When you pass a URL string to `URI()`, it creates an instance with various methods to access different parts of the URL, including the query string. The `.query(true)` method specifically parses the query string into a JavaScript object.

### Example with URI.js

First, you would need to include the `URI.js` library in your project.

```html
<!-- In your HTML head or before your script -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/URI.js/1.19.2/URI.min.js"></script>
```

```javascript
// Example 1: Parsing a specific URL string
const urlString = 'https://www.mysite.com/default.aspx?dest=aboutus.aspx&id=123&tags=js,web';
const uriObject = URI(urlString);

// Parse the query string into an object
const qsObject = uriObject.query(true);

console.log(qsObject);
/*
{
  dest: "aboutus.aspx",
  id: "123",
  tags: "js,web"
}
*/
console.log(`Destination: ${qsObject.dest}`); // "aboutus.aspx"

// Example 2: Parsing the current page's URL (ala PHP's $_GET)
// Assuming current URL: https://www.example.com/page?param1=value1&param2=value2
const currentUri = URI(document.URL);
const $_GET = currentUri.query(true);

console.log($_GET);
/*
{
  param1: "value1",
  param2: "value2"
}
*/
console.log(`Param1: ${$_GET['param1']}`); // "value1"

// URI.js also handles array-like parameters if configured or using specific methods
// Example: ?item[]=apple&item[]=banana
// URI().query(true) might return { "item[]": ["apple", "banana"] } or similar depending on version/config.
// For more advanced array handling, you might need to use specific URI.js methods or post-process.

// Manipulation example:
const modifiedUri = currentUri.setQuery("newParam", "newValue").removeQuery("param1");
console.log(`Modified URL: ${modifiedUri.toString()}`);
// Output: "https://www.example.com/page?param2=value2&newParam=newValue"
```

### Advantages

*   **Comprehensive URL API:** Not just for parsing, but also for building, modifying, and normalizing URLs.
*   **Robust Parsing:** Handles many edge cases, encoding, and complex structures.
*   **Cross-Browser:** Designed for broad compatibility.
*   **Readability:** Can make complex URL operations more concise and readable.

### Disadvantages

*   **External Dependency:** Adds a library to your project, increasing bundle size.
*   **Overkill for Simple Needs:** If you only need to parse a single parameter, this might be too heavy.
*   **Learning Curve:** Requires understanding the library's API.

### When to Use

Consider `URI.js` or similar libraries when:
*   Your project already uses or benefits from a URL utility library.
*   You need to perform complex URL manipulations (e.g., adding/removing parameters, changing host, path, etc.) in addition to parsing.
*   You require extremely robust and battle-tested URL parsing for all possible edge cases.

## Method 6: Regex for Specific Single Parameter

**Persona:** 🚀 Speed Seeker (for very specific cases), 🔧 Problem Solver (if regex is preferred)

This method uses a regular expression to extract a single, known query parameter. It can be very concise and efficient if you are absolutely certain about the structure of the parameter you're looking for and only need that one value. This is based on the logic from Answer 7 and Answer 8.

### How it Works

A regular expression is constructed to match the specific parameter name and capture its value. The `location.search` string is then processed using `replace()` or `exec()` with this regex.

#### Sub-Method 6.1: Using `replace()` for a single, known parameter

This is particularly useful if you know the parameter will be the *only* one or the *first* one, and you want to strip everything else.

```javascript
/**
 * Extracts a single query variable using a simple regex and replace.
 * Best for scenarios where the parameter is expected to be the only one or the first.
 * @param {string} paramName The name of the parameter to extract.
 * @returns {string|null} The decoded value of the parameter, or null if not found.
 */
function getSingleParamWithReplace(paramName) {
    // Construct a regex to find `?paramName=` or `&paramName=` and capture the value
    // This regex assumes the parameter is followed by an '=' and then its value.
    // It will capture everything until the next '&' or the end of the string.
    const regex = new RegExp(`[?&]${paramName}=([^&]*)`);
    const match = window.location.search.match(regex);

    if (match && match[1]) {
        return decodeURIComponent(match[1]);
    }
    return null;
}

// Example Usage:
// Assuming URL: https://www.example.com/page?dest=aboutus.aspx&id=123
const destination = getSingleParamWithReplace('dest');
console.log(`Destination: ${destination}`); // "aboutus.aspx"

const userId = getSingleParamWithReplace('id');
console.log(`User ID: ${userId}`); // "123"

const nonExistent = getSingleParamWithReplace('foo');
console.log(`Non-existent: ${nonExistent}`); // null

// Original Answer 7's approach:
// var dest = location.search.replace(/^.*?\=/, '');
// This specific regex `^.*?\=` is very aggressive and will remove everything up to the first '='.
// It only works reliably if you know the *first* parameter is the one you want and it's the only one.
// For example, if URL is `?dest=aboutus.aspx`, it returns `aboutus.aspx`.
// If URL is `?id=123&dest=aboutus.aspx`, it returns `123&dest=aboutus.aspx`.
// Therefore, the `getSingleParamWithReplace` function above is generally safer and more flexible.
```

#### Sub-Method 6.2: Using `RegExp.exec()` with Caching for All Parameters

This approach uses a regular expression to iterate through all key-value pairs in the query string and builds an object, often with caching for performance on subsequent calls. This is based on Answer 8.

```javascript
/**
 * Parses the entire query string into an object using regex, with caching.
 * @returns {object} An object containing all query parameters.
 */
function getSearchWithRegexCache() {
    // Use a closure to store the parsed result
    let parsedSearch = null;

    return function(variable) {
        if (!parsedSearch) {
            parsedSearch = {};
            // Regex to match key=value pairs.
            // It handles the leading '?' or '&' and captures key and value.
            // Note: This regex might need tweaking for complex cases like `param=` or `param` without value.
            const re = /[?&]([^=&]+)=([^&]*)/g;
            let match;

            // Iterate through all matches
            while ((match = re.exec(window.location.search)) !== null) {
                const key = decodeURIComponent(match[1]);
                const value = decodeURIComponent(match[2]);
                // Simple assignment, does not handle duplicate keys as arrays
                parsedSearch[key] = value;
            }
            // Handle parameters without values (e.g., `?debug`) if needed,
            // this regex won't catch them. A more complex regex would be needed.
        }
        
        // If a specific variable is requested, return its value
        if (variable) {
            return parsedSearch[variable];
        }
        // Otherwise, return the full parsed object
        return parsedSearch;
    };
}

// Get the cached parser function
const getQueryParam = getSearchWithRegexCache();

// Example Usage:
// Assuming URL: https://www.example.com/page?dest=aboutus.aspx&id=123&debug=true
const destination = getQueryParam('dest');
console.log(`Destination: ${destination}`); // "aboutus.aspx"

const userId = getQueryParam('id');
console.log(`User ID: ${userId}`);         // "123"

const debugFlag = getQueryParam('debug');
console.log(`Debug Flag: ${debugFlag}`);   // "true"

// Get the full object (subsequent calls will use the cached object)
const allParams = getQueryParam();
console.log(allParams);
/*
{
  dest: "aboutus.aspx",
  id: "123",
  debug: "true"
}
*/
```

### Advantages

*   **Concise (for simple cases):** A well-crafted regex can be very short.
*   **Potentially Fast:** For very specific, simple extractions, regex can be highly optimized by the JavaScript engine.
*   **Caching:** The `getSearchWithRegexCache` approach offers performance benefits for repeated lookups within the same page load.

### Disadvantages

*   **Complexity:** Writing robust regular expressions for all query string edge cases (e.g., `param=`, `param`, `param=value1&param=value2`, `param=value=with=equals`) can be extremely difficult and error-prone.
*   **Readability:** Regex can be hard to read and maintain for others (and your future self).
*   **Limited Functionality:** Primarily for extraction; not for modification or building URLs.
*   **No Duplicate Key Handling (in simple regex):** Most simple regex solutions will only capture the last occurrence or require complex logic to handle arrays.

### When to Use

*   When you have a very specific, simple, and predictable query string structure.
*   When performance for a single, known parameter is absolutely critical, and you've benchmarked regex as faster than string splitting for your specific use case.
*   When you are comfortable with regular expressions and their limitations.
*   For `getSearchWithRegexCache`, when you need to parse the entire query string once and then access individual parameters multiple times without re-parsing.

## Performance Comparison

**Persona:** 🚀 Speed Seeker, 🏗️ Architecture Builder

Choosing a method often involves trade-offs between performance, browser compatibility, and ease of use. Here's a comparison of the discussed methods.

| Method                                  | Performance (Relative) | Browser Support (Modern) | Browser Support (Legacy) | Complexity (Code) | Handles Duplicates (as array) | Handles No Value (`param=`) | Handles No Equals (`param`) |
| :-------------------------------------- | :--------------------- | :----------------------- | :----------------------- | :---------------- | :---------------------------- | :-------------------------- | :-------------------------- |
| **`URLSearchParams`**                   | Fast                   | Excellent (ES6+)         | No (IE, older Edge)      | Low               | Yes (`getAll()`)              | Yes (`get()` returns `""`)  | No (`get()` returns `null`) |
| **`getQueryVariable` (Answer 1)**       | Very Fast (single)     | Excellent                | Excellent (IE6+)         | Low               | No (first value)              | Yes (`""`)                  | No (`undefined`)            |
| **`parseQuery` (Basic, Answer 2)**      | Fast                   | Excellent                | Excellent (IE6+)         | Low               | No (last value)               | Yes (`""`)                  | Yes (`""`)                  |
| **`parseQueryAdvanced` (Answer 6)**     | Moderate               | Excellent                | Excellent (IE6+)         | Moderate          | Yes                           | Yes (`""`)                  | Yes (`""`)                  |
| **External Library (e.g., URI.js)**     | Moderate               | Excellent                | Good (depends on lib)    | Low (API usage)   | Yes (library dependent)       | Yes (library dependent)     | Yes (library dependent)     |
| **Regex (`getSingleParamWithReplace`)** | Very Fast (single)     | Excellent                | Excellent (IE6+)         | Moderate          | No (first value)              | Yes                         | No                          |
| **Regex (`getSearchWithRegexCache`)**   | Moderate (initial parse) | Excellent                | Excellent (IE6+)         | High (regex)      | No (last value)               | Yes                         | No                          |

**Notes on Performance:**

*   **"Very Fast (single)"**: These methods are optimized for extracting just one parameter. If you need multiple parameters, the overhead of repeated calls can make them slower than parsing the entire string once.
*   **"Fast"**: Generally efficient for parsing the entire string into an object. `URLSearchParams` benefits from being a native implementation.
*   **"Moderate"**: Involves more complex string manipulation or object construction logic, which can add a slight overhead compared to the simplest methods. External libraries also have initialization costs.
*   **Benchmarking:** Actual performance can vary significantly based on browser, JavaScript engine, query string length, and the number of parameters. For critical applications, always benchmark with your specific data.

**General Recommendation:**

*   For **modern applications**, `URLSearchParams` is the clear winner due to its balance of performance, features, and ease of use.
*   For **legacy support** or when `URLSearchParams` is not an option, `parseQueryAdvanced` offers the most robust custom parsing into an object.
*   If you only need a **single, specific parameter** and compatibility is paramount, `getQueryVariable` is a solid choice.

## JavaScript Version Support

**Persona:** ⚡ Legacy Maintainer, 🏗️ Architecture Builder

Understanding which JavaScript features are available in different environments is crucial for choosing the right parsing method.

| Method                                  | ES Version Required | Browser Support (Modern)                               | Browser Support (Legacy)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
## Table of Contents
- [Quick Answer](#quick-answer)
- [Choose Your Method](#choose-your-method)
- [Ready-to-Use Code](#ready-to-use-code)
- [Method 1: Using `URLSearchParams` (Modern & Recommended)](#method-1-using-urlsearchparams-modern--recommended)
  - [How it Works](#how-it-works)
  - [Key Methods](#key-methods)
  - [Example: Handling Multiple Values and Manipulation](#example-handling-multiple-values-and-manipulation)
  - [Converting to a Plain Object](#converting-to-a-plain-object)
  - [Advantages](#advantages)
  - [Disadvantages](#disadvantages)
- [Method 2: Custom Function for Single Parameter (`getQueryVariable`)](#method-2-custom-function-for-single-parameter-getqueryvariable)
  - [How it Works](#how-it-works-1)
  - [Advantages](#advantages-1)
  - [Disadvantages](#disadvantages-1)
  - [When to Use](#when-to-use)
- [Method 3: Custom Function for Object Parsing (`parseQuery` - Basic)](#method-3-custom-function-for-object-parsing-parsequery---basic)
  - [How it Works](#how-it-works-2)
  - [Advantages](#advantages-2)
  - [Disadvantages](#disadvantages-2)
  - [When to Use](#when-to-use-1)
- [Method 4: Custom Function for Object Parsing (`parseQuery` - Advanced)](#method-4-custom-function-for-object-parsing-parsequery---advanced)
  - [How it Works](#how-it-works-3)
  - [Advantages](#advantages-3)
  - [Disadvantages](#disadvantages-3)
  - [When to Use](#when-to-use-2)
- [Method 5: Using External Libraries (e.g., URI.js)](#method-5-using-external-libraries-e.g.-urijs)
  - [How it Works (with URI.js)](#how-it-works-with-urijs)
  - [Example with URI.js](#example-with-urijs)
  - [Advantages](#advantages-4)
  - [Disadvantages](#disadvantages-4)
  - [When to Use](#when-to-use-3)
- [Method 6: Regex for Specific Single Parameter](#method-6-regex-for-specific-single-parameter)
  - [How it Works](#how-it-works-4)
  - [Sub-Method 6.1: Using `replace()` for a single, known parameter](#sub-method-61-using-replace-for-a-single-known-parameter)
  - [Sub-Method 6.2: Using `RegExp.exec()` with Caching for All Parameters](#sub-method-62-using-regexpexec-with-caching-for-all-parameters)
  - [Advantages](#advantages-5)
  - [Disadvantages](#disadvantages-5)
  - [When to Use](#when-to-use-4)
- [Performance Comparison](#performance-comparison)
- [JavaScript Version Support](#javascript-version-support)
- [Common Problems & Solutions](#common-problems--solutions)
- [Real-World Use Cases](#real-world-use-cases)
- [Related: Other JavaScript Operations](#related-other-javascript-operations)
- [Summary](#summary)
- [Frequently Asked Questions](#frequently-asked-questions)
- [Tools & Resources](#tools--resources)

## Common Problems & Solutions

**Persona